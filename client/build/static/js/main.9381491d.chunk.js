(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{61:function(e,t,a){e.exports=a(92)},66:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),l=a.n(c),o=(a(66),a(7)),i=a.n(o),u=a(18),s=a(12),m=a(13),p=a(16),d=a(15),h=a(14),E=a(23),f=a(20),v=a(55),y=a(94),b=a(95),g=a(96),x=a(103),j=a(104);function O(e){return r.a.createElement(x.a,{className:"my-5 mx-5 h-100"},r.a.createElement(x.a.Header,null,r.a.createElement(x.a.Title,null,r.a.createElement(E.b,{to:"/product/".concat(e.product._id)},r.a.createElement("p",{className:"text-left"},e.product.name)))),r.a.createElement(x.a.Img,{variant:"top",src:"/".concat(e.product.image),fluid:"true"}),r.a.createElement(x.a.Body,null,r.a.createElement("p",{className:"text-left"},"$",e.product.price.toFixed(2)),r.a.createElement("div",{className:"text-left"},function(){for(var t=[],a=[],n=0;n<e.product.rating;n++)t.push(r.a.createElement("i",{className:"material-icons",key:n}," star "));for(var c=0;c<5-e.product.rating;c++)a.push(r.a.createElement("i",{className:"material-icons",key:c+5}," star_border "));return[t,a]}())),r.a.createElement(x.a.Footer,{className:"text-left",variant:"light"},r.a.createElement(j.a,{variant:"primary",onClick:function(){e.add(e.product)},block:!0},"Add")))}var k=a(17),N=a.n(k),C=a(19),w=a(53),S=a(54),T=a(59),_={cart:[],amount:0,total:0},D={items:[]},A=Object(C.combineReducers)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETCART":var a=0,n=0;return t.payload.forEach((function(e){a++,n+=e.total})),{total:n,amount:a,cart:t.payload};case"ADD":var r=0,c=0,l=[].concat(Object(T.a)(e.cart),[t.payload]);return l.forEach((function(e){r+=1,c+=e.total})),{total:c,amount:r,cart:l};case"UPDATE":var o=0,i=0,u=e.cart.map((function(e){return e._id===t.payload._id&&(e=t.payload),e}));return u.forEach((function(e){o+=e.total,i++})),{total:o,amount:i,cart:u};case"DELETE":var s=0,m=0,p=e.cart.filter((function(e){return e!==t.payload}));return p.forEach((function(e){s+=e.total,m++})),{cart:p,total:s,amount:m};default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETITEMS":return{items:t.payload};default:return e}}}),q=[S.a],F=Object(C.createStore)(A,{},Object(w.composeWithDevTools)(C.applyMiddleware.apply(void 0,q))),B=function(e){return function(t){t({type:"SETCART",payload:e})}},I=function(e){return function(t){t({type:"ADD",payload:e})}},M=function(e){return function(t){t({type:"UPDATE",payload:e})}},P=function(e){return function(t){t({type:"DELETE",payload:e})}},R=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"handleAdd",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/api/orders",{quantity:1,product:t._id});case 3:a=e.sent,F.dispatch(I(a.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.items.map((function(t){return r.a.createElement(v.a,{key:t._id,className:"my-5",xs:12,sm:6,md:4,align:"center"},r.a.createElement(O,{product:t,add:e.handleAdd}))}));return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement("h1",null,"Hello, Customer"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dictum varius duis at consectetur lorem")),r.a.createElement(b.a,null,r.a.createElement(g.a,null,t)))}}]),a}(n.Component),$=Object(h.b)((function(e){return{items:e.items.items}}))(R),H=a(25),L=a(97),W=a(101),G=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={quantity:1},n.handleChange=n.handleChange.bind(Object(H.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(H.a)(n)),n}return Object(m.a)(a,[{key:"handleSubmit",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.a.post("/api/orders",{quantity:this.state.quantity,product:this.props.items.filter((function(e){return e._id===n.props.match.params.id}))[0]._id});case 4:a=e.sent,F.dispatch(I(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({quantity:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.items.filter((function(t){return t._id===e.props.match.params.id})),a=t.length>0?r.a.createElement(g.a,{className:"mt-5"},r.a.createElement(v.a,{xs:12,sm:12,md:8},r.a.createElement(L.a,{variant:"top",src:"/".concat(t[0].image),fluid:!0,className:"mt-2"})),r.a.createElement(v.a,{xs:12,sm:12,md:4},r.a.createElement("div",{className:"my-2"},r.a.createElement("h1",{className:"text-right"},t[0].name),r.a.createElement("p",{className:"text-right"},t[0].description),r.a.createElement("p",{className:"text-right"},function(){for(var e=[],a=[],n=0;n<t[0].rating;n++)e.push(r.a.createElement("i",{className:"material-icons",key:n}," star "));for(var c=0;c<5-t[0].rating;c++)a.push(r.a.createElement("i",{className:"material-icons",key:c+5}," star_border "));return[e,a]}())),r.a.createElement(W.a,{className:"float-md-right",onSubmit:this.handleSubmit},r.a.createElement(W.a.Control,{as:"select",onChange:this.handleChange},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5")),r.a.createElement(j.a,{variant:"primary",type:"submit",block:!0},"Add")))):r.a.createElement("h1",null,"Product Not Found");return r.a.createElement(b.a,{fluid:!0,className:"mh-100"},a)}}]),a}(n.Component),J=Object(h.b)((function(e){return{items:e.items.items}}))(G);function U(e){return r.a.createElement(x.a,null,r.a.createElement(x.a.Header,null,r.a.createElement("p",null,"Total")),r.a.createElement(x.a.Body,{className:"py-2 px-2"},r.a.createElement("span",{className:"text-center align-center display-2"},"$",e.total)))}var Q=a(58),z=a(98);function K(e){var t=Object(n.useState)(e.order.quantity),a=Object(Q.a)(t,2),c=a[0],l=a[1];return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(z.a,null,r.a.createElement(L.a,{width:128,className:"mr-3",src:"/".concat(e.order.product.image),alt:"Generic placeholder"}),r.a.createElement(z.a.Body,{className:"text-left"},r.a.createElement("h5",null,e.order.product.name),r.a.createElement("p",null,e.order.product.description)))),r.a.createElement("td",null,r.a.createElement("span",{className:"align-center"},"$",e.order.product.price.toFixed(2))),r.a.createElement("td",null,r.a.createElement(W.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(W.a.Control,{as:"select",value:c,onChange:function(t){e.change({quantity:t.target.value,order:e.order}),l(t.target.value)}},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5")))),r.a.createElement("td",null,r.a.createElement(j.a,{variant:"outline-danger",onClick:function(){e.delete(e.order)}},r.a.createElement("i",{className:"material-icons"},"delete_outline"))))}var V=a(99),X=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"handleDelete",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete("/api/orders/".concat(t._id));case 3:F.dispatch(P(t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.patch("/api/orders/".concat(t.order._id),{quantity:t.quantity});case 3:a=e.sent,F.dispatch(M(a.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.cart.map((function(t){return r.a.createElement(K,{key:t._id,order:t,change:e.handleChange,delete:e.handleDelete})}));return r.a.createElement("div",null,r.a.createElement(b.a,{fluid:!0,className:"py-5 px-5"},r.a.createElement(g.a,null,r.a.createElement(v.a,{xs:12,sm:12,md:8,align:"center"},r.a.createElement(V.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-left"},"Item"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Remove"))),r.a.createElement("tbody",null,t))),r.a.createElement(v.a,{xs:12,sm:12,md:4,align:"center"},r.a.createElement(U,{total:this.props.total.toFixed(2)})))))}}]),a}(n.Component),Y=Object(h.b)((function(e){return{cart:e.cart.cart,total:e.cart.total,amount:e.cart.amount}}))(X),Z=function(){return r.a.createElement("div",null,r.a.createElement(b.a,{fluid:!0,className:"text-left py-5 px-5"},r.a.createElement("h1",{className:"display-1"},"404"),r.a.createElement("hr",null),r.a.createElement("h1",null,"Page Not Found")))},ee=function(e){return function(t){t({type:"SETITEMS",payload:e})}},te=a(102),ae=a(100),ne=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(te.a,{bg:"light",variant:"light"},r.a.createElement(E.b,{to:"/"},r.a.createElement(te.a.Brand,null,"Clothing Store")),r.a.createElement(te.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(te.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},r.a.createElement(W.a,{inline:!0},r.a.createElement(E.b,{to:"/cart"},r.a.createElement(j.a,{variant:"light",block:!0},r.a.createElement("i",{className:"material-icons"},"shopping_cart"),r.a.createElement(ae.a,{variant:"danger",pill:!0},this.props.amount)))))))}}]),a}(n.Component),re=Object(h.b)((function(e){return{amount:e.cart.amount}}))(ne),ce=(a(91),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/api/products");case 2:return t=e.sent,e.next=5,N.a.get("/api/orders");case 5:a=e.sent,F.dispatch(B(a.data)),F.dispatch(ee(t.data));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E.a,null,r.a.createElement(h.a,{store:F},r.a.createElement(re,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:$}),r.a.createElement(f.a,{path:"/cart",exact:!0,component:Y}),r.a.createElement(f.a,{path:"/product/:id",component:J}),r.a.createElement(f.a,{path:"*",component:Z})))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.9381491d.chunk.js.map